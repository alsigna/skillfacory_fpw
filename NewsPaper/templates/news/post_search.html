{% extends "default.html" %}

{% block title %}
Посты
{% endblock title %}

{% block content %}
<h1>Поиск постов</h1>
<hr>

<form action="" method="get">
    {{ filterset.form.as_p }}
    <input class="btn btn-success" type="submit" value="Search" />
    <a class="btn btn-warning" href="{% url 'post_search' %}">Reset</a>
</form>

<hr>

<table>
    <tr>
        <th>Заголовок</th>
        <th>Дата публикации</th>
        <th>Содержание</th>
    </tr>
    {% for post in posts %}
    <tr>
        <td><a href="{% url 'post_detail' post.id %}">{{ post.title|truncatechars:20 }}</a></td>
        <td>{{ post.create_time|date:'M d, Y G:i' }}</td>
        <td>{{ post.text|truncatechars:100 }}</td>
    </tr>
    {% endfor %}
</table>

{% include "news/helpers/paginator.html" %}

{% endblock content %}